<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Message for You ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="assets\favicon.png" sizes="64x64">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E9 50%, #F0EAD6 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 182, 193, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 192, 203, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(240, 234, 214, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        /* Polaroid Photo Collage */
        .photo-collage {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.4;
        }

        .polaroid {
            position: absolute;
            background: white;
            padding: 12px 12px 45px 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transform-origin: center;
            animation: float 6s ease-in-out infinite;
        }

        .polaroid img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .polaroid.small {
            width: 120px;
            height: 140px;
        }

        .polaroid.medium {
            width: 160px;
            height: 180px;
        }

        .polaroid.large {
            width: 200px;
            height: 220px;
        }

        /* Individual polaroid positions and rotations */
        .polaroid:nth-child(1) {
            top: 8%;
            left: 5%;
            transform: rotate(-8deg);
            animation-delay: 0s;
        }

        .polaroid:nth-child(2) {
            top: 5%;
            right: 8%;
            transform: rotate(12deg);
            animation-delay: 1s;
        }

        .polaroid:nth-child(3) {
            top: 11%;
            left: 19%;
            transform: rotate(5deg);
            animation-delay: 2s;
        }

        .polaroid:nth-child(4) {
            top: 14%;
            right: 23%;
            transform: rotate(-10deg);
            animation-delay: 0.5s;
        }

        .polaroid:nth-child(5) {
            bottom: 6%;
            left: 8%;
            transform: rotate(-15deg);
            animation-delay: 1.5s;
        }

        .polaroid:nth-child(6) {
            bottom: 5%;
            right: 10%;
            transform: rotate(8deg);
            animation-delay: 2.5s;
        }

        .polaroid:nth-child(7) {
            top: 82%;
            left: 15%;
            transform: rotate(15deg);
            animation-delay: 3s;
        }

        .polaroid:nth-child(8) {
            top: 79%;
            right: 30%;
            transform: rotate(-5deg);
            animation-delay: 0.8s;
        }

        /* Floating Hearts Animation */
        .hearts-container {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: #FFB6C1;
            opacity: 0;
            animation: floatHeart 8s ease-in-out infinite;
        }

        .heart.fast {
            animation-duration: 3s;
        }

        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Landing Page */
        .landing-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            z-index: 10;
            transition: opacity 0.5s ease-out;
        }

        .landing-page.hidden {
            opacity: 0;
            pointer-events: none;
            position: absolute;
        }

        .profile-image {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid rgba(255, 182, 193, 0.4);
            box-shadow: 0 10px 40px rgba(255, 182, 193, 0.3);
            margin-bottom: 30px;
            animation: fadeInScale 1s ease-out;
        }

        .recipient-name {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(3rem, 10vw, 6rem);
            color: #C08497;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(192, 132, 151, 0.3);
            animation: fadeInDown 1s ease-out;
        }

        .opening-text {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1rem, 2.5vw, 1.4rem);
            color: #8B6F8F;
            text-align: center;
            margin-bottom: 50px;
            max-width: 600px;
            line-height: 1.6;
            animation: fadeInUp 1s ease-out 0.3s backwards;
        }

        .trigger-button {
            background: linear-gradient(135deg, #D4A5A5 0%, #E8B4B8 50%, #FFCCCB 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(212, 165, 165, 0.5);
            transition: all 0.3s ease;
            animation: fadeInUp 1s ease-out 0.6s backwards, pulse 2s ease-in-out 2s infinite;
            position: relative;
            overflow: hidden;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .trigger-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .trigger-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .trigger-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 35px rgba(212, 165, 165, 0.7);
        }

        /* Main Content */
        .main-content {
            display: none;
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 10;
            min-height: 100vh;
        }

        .main-content.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            animation: fadeIn 0.5s ease-out;
        }

        .message-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(1px);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 15px 50px rgba(219, 112, 147, 0.25);
            border: 3px solid rgba(255, 182, 193, 0.3);
            position: relative;
            overflow: hidden;
        }

        .message-container::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 182, 193, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate {
            100% {
                transform: rotate(360deg);
            }
        }

        .message-image {
            width: 100%;
            max-width: 400px;
            height: 300px;
            object-fit: cover;
            border-radius: 20px;
            margin: 0 auto 30px;
            display: block;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out;
        }

        .message-image.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .message-content {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 2;
            color: #6B5B6E;
            text-align: center;
            position: relative;
            z-index: 1;
            min-height: 250px;
/*            display: flex;*/
            flex-direction: column;
            justify-content: center;
        }

        .message-content.phase-4 {
            font-size: clamp(1.4rem, 3vw, 2rem);
            font-weight: 600;
            color: #C85A7A;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 1.4em;
            background-color: #DB7093;
            margin-left: 3px;
            animation: blink 0.8s infinite;
            vertical-align: text-bottom;
        }

        .next-button {
            background: linear-gradient(135deg, #D4A5A5 0%, #E8B4B8 50%, #FFCCCB 100%);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: clamp(1rem, 2vw, 1.3rem);
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(212, 165, 165, 0.4);
            transition: all 0.3s ease;
            align-self: center;
            margin-top: 30px;
            opacity: 0;
            pointer-events: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .next-button.visible {
            opacity: 1;
            pointer-events: all;
            animation: fadeInUp 0.5s ease-out;
        }

        .next-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 165, 165, 0.6);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Decorative Hearts */
        .deco-heart {
            position: fixed;
            font-size: 50px;
            color: #FFB6C1;
            opacity: 0.2;
            z-index: 0;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .photo-collage {
                opacity: 0.25;
            }
            
            .polaroid.small {
                width: 80px;
                height: 95px;
                padding: 8px 8px 30px 8px;
            }

            .polaroid.medium {
                width: 100px;
                height: 115px;
                padding: 8px 8px 30px 8px;
            }

            .polaroid.large {
                width: 120px;
                height: 135px;
                padding: 10px 10px 35px 10px;
            }

            .message-container {
                padding: 30px 25px;
            }

            .message-image {
                height: 250px;
                max-width: 100%;
            }

            .profile-image {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Polaroid Photo Collage -->
    <div class="photo-collage">
        <div class="polaroid medium">
            <img src="assets\photos\1.jpeg" alt="Memory 1">
        </div>
        <div class="polaroid small">
            <img src="assets\photos\2.jpeg" alt="Memory 2">
        </div>
        <div class="polaroid large">
            <img src="assets\photos\3.jpeg" alt="Memory 3">
        </div>
        <div class="polaroid medium">
            <img src="assets\photos\4.jpeg" alt="Memory 4">
        </div>
        <div class="polaroid small">
            <img src="assets\photos\5.jpeg" alt="Memory 5">
        </div>
        <div class="polaroid large">
            <img src="assets\photos\6.jpeg" alt="Memory 6">
        </div>
        <div class="polaroid medium">
            <img src="assets\photos\7.jpeg" alt="Memory 7">
        </div>
        <div class="polaroid small">
            <img src="assets\photos\8.jpeg" alt="Memory 8">
        </div>
    </div>

    <!-- Floating Hearts Container -->
    <div class="hearts-container" id="heartsContainer"></div>

    <!-- Decorative Hearts -->
    <div class="deco-heart" style="top: 10%; left: 5%;">üíï</div>
    <div class="deco-heart" style="top: 20%; right: 8%; animation-delay: 1s;">üíñ</div>
    <div class="deco-heart" style="bottom: 15%; left: 10%; animation-delay: 2s;">üíó</div>
    <div class="deco-heart" style="bottom: 25%; right: 5%; animation-delay: 3s;">üíì</div>

    <!-- Landing Page -->
    <div class="landing-page" id="landingPage">
        <img src="assets\photos\9.jpeg" alt="Profile" class="profile-image" id="profileImage">
        <h1 class="recipient-name" id="recipientName">Dear Sayang</h1>
        <p class="opening-text">
            Ada sesuatu yang ingin kusampaikan padamu hari ini...
        </p>
        <button class="trigger-button" id="triggerBtn">
            üíå Open My Message üíå
        </button>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <div class="message-container">
            <img src="" alt="Message Image" class="message-image" id="messageImage">
            <div class="message-content" id="messageContent"></div>
            <button class="next-button" id="nextBtn">Next ‚ñ∏</button>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="bgMusic" loop preload="auto">
        <!-- Add your audio source here -->
        <source src="assets/backsound/backsound-edit.mp3" type="audio/mp3">
    </audio>

    <audio id="bgMusic2" preload="auto">
        <source src="assets/backsound/backsound2.mp3" type="audio/mp3">
    </audio>

    <script>
        // ============================================
        // CONFIGURATION - CUSTOMIZE HERE
        // ============================================
        const config = {
            recipientName: "Anizha",
            profileImage: "assets\\photos\\9.jpeg",
            openingText: "There is something I want to tell you on this special day...",
            phases: [
                {
                    // Fase 1: Perkenalan Manis
                    image: "assets\\photos\\3.jpeg",
                    message: `Happy Birthday my love! üéÇ

Today is special because the world was given someone as wonderful as you. I‚Äôm grateful to be part of your life and to celebrate this day with you.

Being with you has been one of the greatest gifts I could ever receive. ‚ù§Ô∏è`,
                    buttonText: "Next ‚ñ∏"
                },
                {
                    // Fase 2: Pesan Emosional
                    image: "assets\\photos\\7.jpeg",
                    message: `Do you know what I like most about you? üíï

Your smile, your laugh, the way you bring lightness into my days all of it makes life feel brighter. Your presence gives my life so much meaning.

You‚Äôre not just my girlfriend, you‚Äôre my closest friend, my safe place, and the person who inspires me to become better every day.`,
                    buttonText: "Next ‚ñ∏"
                },
                {
                    // Fase 3: Kenangan atau Harapan
                    image: "assets\\photos\\6.jpeg",
                    message: `There‚Äôs something I want you to know... üå∏

Even when distance separates us, even when challenges comes, especially the difficult ones we face because of our differences, my heart always stays connected to yours.

I‚Äôll be here for you, in every moment, good or bad. Whatever we go through, we‚Äôll face it together, because our love is stronger than anything.`,
                    buttonText: "Next ‚ñ∏"
                },
                {
                    // Fase 4: Puncak/Penutup
                    image: "assets\\photos\\2.jpeg",
                    message: `I love you. üíñ
Today, tomorrow, and for as long as life allows.

Happy Birthday, sayang. üéâ‚ú®`,
                    buttonText: null
                }
            ],
            typingSpeed: 30
        };

        // ============================================
        // STATE MANAGEMENT
        // ============================================
        let currentPhase = 0;
        let isTyping = false;
        let isDeleting = false;
        let typingIndex = 0;
        let heartInterval = null;
        let audioStarted = false;

        // ============================================
        // DOM ELEMENTS
        // ============================================
        const landingPage = document.getElementById('landingPage');
        const mainContent = document.getElementById('mainContent');
        const messageContent = document.getElementById('messageContent');
        const messageImage = document.getElementById('messageImage');
        const triggerBtn = document.getElementById('triggerBtn');
        const nextBtn = document.getElementById('nextBtn');
        const recipientNameEl = document.getElementById('recipientName');
        const profileImageEl = document.getElementById('profileImage');
        const heartsContainer = document.getElementById('heartsContainer');
        const bgMusic = document.getElementById('bgMusic');
        const bgMusic2 = document.getElementById('bgMusic2');

        // ============================================
        // FLOATING HEARTS
        // ============================================
        function createFloatingHeart(fast = false) {
            const heart = document.createElement('div');
            heart.className = 'heart' + (fast ? ' fast' : '');
            const heartSymbols = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíî', 'üíû', '‚ù§Ô∏è', 'üå∏', 'üå∫', 'üåπ'];
            heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = fast ? '3s' : (Math.random() * 3 + 5) + 's';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heartsContainer.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, fast ? 3000 : 8000);
        }

        function startHeartAnimation(fast = false) {
            if (heartInterval) clearInterval(heartInterval);
            const interval = fast ? 200 : 800;
            heartInterval = setInterval(() => createFloatingHeart(fast), interval);
        }

        function accelerateHearts() {
            startHeartAnimation(true);
        }

        // ============================================
        // TYPING EFFECTS
        // ============================================
        function typeMessage(message, callback) {
            isTyping = true;
            typingIndex = 0;
            let displayText = '';

            function type() {
                if (typingIndex < message.length) {
                    displayText += message.charAt(typingIndex);
                    messageContent.innerHTML = displayText.replace(/\n/g, '<br>') + '<span class="cursor"></span>';
                    typingIndex++;
                    setTimeout(type, config.typingSpeed);
                } else {
                    messageContent.innerHTML = displayText.replace(/\n/g, '<br>')+ '<span class="cursor"></span>';
                    isTyping = false;
                    if (callback) callback();
                }
            }

            type();
        }

        function fadeOutMessage(callback) {
            isDeleting = true;
            messageContent.style.transition = 'opacity 0.6s ease-out';
            messageContent.style.opacity = '0';
            
            setTimeout(() => {
                messageContent.innerHTML = '';
                messageContent.style.opacity = '1';
                isDeleting = false;
                if (callback) callback();
            }, 600);
        }

        // ============================================
        // PHASE MANAGEMENT
        // ============================================
        function showPhase(phaseIndex) {
            if (phaseIndex >= config.phases.length) return;

            const phase = config.phases[phaseIndex];
            
            // Update image
            if (phase.image) {
                messageImage.src = phase.image;
                messageImage.classList.remove('visible');
                setTimeout(() => {
                    messageImage.classList.add('visible');
                }, 100);
            }
            
            // Apply phase-4 class for final phase
            if (phaseIndex === 3) {
                messageContent.classList.add('phase-4');
            } else {
                messageContent.classList.remove('phase-4');
            }

            typeMessage(phase.message, () => {
                if (phase.buttonText) {
                    nextBtn.textContent = phase.buttonText;
                    nextBtn.classList.add('visible');
                } else {
                    // Final phase - hide button and accelerate hearts
                    nextBtn.classList.remove('visible');
                    accelerateHearts();
                }
            });
        }

        function goToNextPhase() {
            if (isTyping || isDeleting) return;

            nextBtn.classList.remove('visible');
            messageImage.classList.remove('visible');

            if (currentPhase < config.phases.length - 1) {
                fadeOutMessage(() => {
                    currentPhase++;
                    setTimeout(() => {
                        showPhase(currentPhase);
                    }, 300);
                });
            }
        }

        // ============================================
        // EVENT LISTENERS
        // ============================================
        triggerBtn.addEventListener('click', function() {
            landingPage.classList.add('hidden');
            mainContent.classList.add('active');
            
            setTimeout(() => {
                showPhase(0);
            }, 300);
            
            startHeartAnimation(false);
            
            if (!audioStarted && bgMusic.querySelector('source')) {
                 // Play audio 1
                bgMusic.play().catch(e => {
                    console.log('Audio 1 autoplay prevented:', e);
                });
                
                // // Unlock audio 2 di mobile (muted, pause immediately)
                // const unlockAudio2 = bgMusic2.play().then(() => {
                //     bgMusic2.pause();
                //     bgMusic2.currentTime = 0;
                // }).catch(e => {
                //     console.log('Audio 2 unlock failed:', e);
                // });
                
                // // Setelah audio 1 selesai, delay 2 detik lalu play audio 2
                // bgMusic.addEventListener('ended', function() {
                //     setTimeout(() => {
                //         // Reset audio 2 ke awal sebelum play
                //         bgMusic2.currentTime = 0;
                //         bgMusic2.play().catch(e => {
                //             console.log('Audio 2 play error:', e);
                //         });
                //     }, 2000);
                // }, { once: true }); // once: true = event listener cuma jalan 1x

                // bgMusic2.addEventListener('ended', function() {
                //     setTimeout(() => {
                //         bgMusic.currentTime = 0;
                //         bgMusic.play().catch(e => {
                //             console.log('Audio 1 replay error:', e);
                //         });
                //     }, 2000);
                // });
                
                audioStarted = true;
            }
        });

        nextBtn.addEventListener('click', goToNextPhase);

        // ============================================
        // INITIALIZATION
        // ============================================
        window.addEventListener('DOMContentLoaded', function() {
            if (config.recipientName) {
                recipientNameEl.textContent = `Dear ${config.recipientName}`;
            }

            if (config.profileImage) {
                profileImageEl.src = config.profileImage;
            }

            if (config.openingText) {
                document.querySelector('.opening-text').textContent = config.openingText;
            }
        });
    </script>
</body>
</html>